[general]
static=yes
writeprotect=no
clearglobalvars=no
[globals]
CONSOLE=Console/dsp
TRUNK=DAHDI/G2
TRUNKMSD=1
[public]
[default]
;include => sebas-context
include => Proxy
include => VoicebotV2
include => setu2u ;borrar

[sebas-context]
exten => 101,1,Answer()
    same => n,NoOp(Iniciando el proceso..)
    same => n,MixMonitor(/tmp/record.wav)

    same => n,AudioSocket(c9b3d22c-9f63-41db-bc5b-76eedca9507c,172.17.9.148:1121)
    same => n,NoOp(Transfiriendo..)
    same => n,Playback(call-waiting)
    same => n,Hangup()

[VoicebotV2]
exten => 75098,1,NoOp(Llamada entrante Campaña ${Camp})
;exten => 75098,n,Set(CHANNEL(hangup_handler_push)=call-end,66661,1) ;pruebas tiempos
;exten => 75098,n,AGI(TIME/vacio.agi) ;pruebas tiempos
;exten => 75098,n,AGI(TIME/ivr_start.agi,${pm_id}) ;pruebas tiempos
exten => 75098,n,Set(CountOTP=0)
;exten => 75098,n,set(U2U=${SIP_HEADER(User-to-User)})
;exten => 75098,n,Noop(User-to-User: ${U2U})
;exten => 75098,n,Noop(UUID = ${uuid})
exten => 75098,n,Wait(0.15)
exten => 75098,n,AGI(voiceIN/Call_Request.agi,${CALLERID(num)},10,${Camp})
exten => 75098,n,MixMonitor(/tmp/Records/${phone}-${id}.wav)
exten => 75098,n,NoOp(id de la llamada${id}) ;pruebas tiempos
;exten => 75098,n,AGI(TIME/ivr_end.agi,${pm_id},${id}) ;pruebas tiempos
;exten => 75098,n,AGI(TIME/voice_start.agi,${pm_id});pruebas tiempos
exten => 75098,n(Lookup),Noop(UUID = ${uuid})
exten => 75098,n,Set(CHANNEL(hangup_handler_push)=call-end,66662,1) ;pruebas tiempos
exten => 75098,n,AudioSocket(${uuid},172.17.9.50:1121)
exten => 75098,n,AGI(voiceIN/Call_consult.agi,${id})
exten => 75098,n,NoOp(${result})
exten => 75098,n,GotoIf($["${result}"="2"]?Tranfer:);Cuelga)
exten => 75098,n,GotoIf($["${result}"="3"]?Cuel:)
exten => 75098,n,GotoIf($["${result}"="4"]?Pross:)
exten => 75098,n,GotoIf($["${result}"="5"]?Cuelga:)
exten => 75098,n,GotoIf($["${result}"="8"]?Doc:)
exten => 75098,n,GotoIf($["${result}"="9"]?DocCategory:)
exten => 75098,n,GotoIf($["${result}"="10"]?Account:)
exten => 75098,n,GotoIf($["${result}"="11"]?OTP:UnPross)
;exten => 75098,n,GotoIf($["${result}"="12"]?SMSCode:UnPross)
exten => 75098,n,hangup()

exten => 75098,n(Tranfer),NoOp(Transfiriendo llamada ID: ${id})
;exten => 75098,n,AGI(TIME/voice_end.agi,${pm_id});pruebas tiempos
;exten => 75098,n,AGI(TIME/transfer_start.agi,${pm_id})
exten => 75098,n,Set(CHANNEL(hangup_handler_push)=call-end,66663,1) ;pruebas tiempos
exten => 75098,n,Noop(${CALLERID(num)})
exten => 75098,n,Set(CALLERID(name)=${id})
exten => 75098,n,Set(CallIn=${Pais}${Lang})
exten => 75098,n,GotoIf($["${CallIn}"="11"]?PREsp:)
exten => 75098,n,GotoIf($["${CallIn}"="12"]?PRIng:)
exten => 75098,n,GotoIf($["${CallIn}"="21"]?TTEsp:)
exten => 75098,n,GotoIf($["${CallIn}"="22"]?TTIng:)
exten => 75098,n,GotoIf($["${CallIn}"="31"]?JamEsp:)
exten => 75098,n,GotoIf($["${CallIn}"="32"]?JamIng:)
exten => 75098,n,GotoIf($["${CallIn}"="42"]?LATIng:)
exten => 75098,n,GotoIf($["${CallIn}"="41"]?LATEsp:)
exten => 75098,n,GotoIf($["${CallIn}"="52"]?ArgIng:)
exten => 75098,n,GotoIf($["${CallIn}"="51"]?ArgEsp:)
exten => 75098,n,GotoIf($["${CallIn}"="72"]?BolIng:)
exten => 75098,n,GotoIf($["${CallIn}"="71"]?BolEsp:)
exten => 75098,n,GotoIf($["${CallIn}"="82"]?ChIng:)
exten => 75098,n,GotoIf($["${CallIn}"="81"]?ChEsp:)
exten => 75098,n,GotoIf($["${CallIn}"="222"]?CrIng:)
exten => 75098,n,GotoIf($["${CallIn}"="221"]?CrEsp:)
exten => 75098,n,GotoIf($["${CallIn}"="92"]?Cr2Ing:)
exten => 75098,n,GotoIf($["${CallIn}"="91"]?Cr2Esp:)
exten => 75098,n,GotoIf($["${CallIn}"="102"]?EcuIng:)
exten => 75098,n,GotoIf($["${CallIn}"="101"]?EcuEsp:)
exten => 75098,n,GotoIf($["${CallIn}"="112"]?SalIng:)
exten => 75098,n,GotoIf($["${CallIn}"="111"]?SalEsp:)
exten => 75098,n,GotoIf($["${CallIn}"="122"]?GuaIng:)
exten => 75098,n,GotoIf($["${CallIn}"="121"]?GuaEsp:)
exten => 75098,n,GotoIf($["${CallIn}"="132"]?HonIng:)
exten => 75098,n,GotoIf($["${CallIn}"="131"]?HonEsp:)
exten => 75098,n,GotoIf($["${CallIn}"="142"]?MexIng:)
exten => 75098,n,GotoIf($["${CallIn}"="141"]?MexEsp:)
exten => 75098,n,GotoIf($["${CallIn}"="152"]?NicIng:)
exten => 75098,n,GotoIf($["${CallIn}"="151"]?NicEsp:)
exten => 75098,n,GotoIf($["${CallIn}"="162"]?PanIng:)
exten => 75098,n,GotoIf($["${CallIn}"="161"]?PanEsp:)
exten => 75098,n,GotoIf($["${CallIn}"="172"]?ParIng:)
exten => 75098,n,GotoIf($["${CallIn}"="171"]?ParEsp:)
exten => 75098,n,GotoIf($["${CallIn}"="172"]?PerIng:)
exten => 75098,n,GotoIf($["${CallIn}"="171"]?PerEsp:)
exten => 75098,n,GotoIf($["${CallIn}"="172"]?Per2Ing:)
exten => 75098,n,GotoIf($["${CallIn}"="171"]?Per2Esp:)
exten => 75098,n,GotoIf($["${CallIn}"="182"]?UruIng:)
exten => 75098,n,GotoIf($["${CallIn}"="181"]?UruEsp:)
exten => 75098,n,GotoIf($["${CallIn}"="192"]?VenIng:)
exten => 75098,n,GotoIf($["${CallIn}"="191"]?VenEsp:)
exten => 75098,n,GotoIf($["${CallIn}"="202"]?LAT2Ing:)
exten => 75098,n,GotoIf($["${CallIn}"="201"]?LAT2Esp:)
exten => 75098,n,GotoIf($["${CallIn}"="212"]?LAT3Ing:)
exten => 75098,n,GotoIf($["${CallIn}"="211"]?LAT3Esp:)
exten => 75098,n,GotoIf($["${CallIn}"="232"]?LA1Ing:)
exten => 75098,n,GotoIf($["${CallIn}"="231"]?LA1Esp:)
exten => 75098,n,GotoIf($["${CallIn}"="242"]?LA2Ing:)
exten => 75098,n,GotoIf($["${CallIn}"="241"]?LA2Esp:)
exten => 75098,n,GotoIf($["${CallIn}"="252"]?LA3Ing:)
exten => 75098,n,GotoIf($["${CallIn}"="251"]?LA3Esp:)
exten => 75098,n,GotoIf($["${CallIn}"="262"]?LA4Ing:)
exten => 75098,n,GotoIf($["${CallIn}"="261"]?LA4Esp:Demo)


exten => 75098,n(PREsp),Set(TDial=64935)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(PRIng),Set(TDial=64936)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(TTEsp),Set(TDial=64933)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(TTIng),Set(TDial=64934)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(JamEsp),Set(TDial=64931)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(JamIng),Set(TDial=64932)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(LATEsp),Set(TDial=64938)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(LATIng),Set(TDial=64937)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(ArgEsp),Set(TDial=64955)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(ArgIng),Set(TDial=64956)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(BolEsp),Set(TDial=64957)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(BolIng),Set(TDial=64958)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(ChEsp),Set(TDial=64959)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(ChIng),Set(TDial=64960)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(CrEsp),Set(TDial=64971)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(CrIng),Set(TDial=64972)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(Cr2Ing),Set(TDial=64978)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(Cr2Esp),Set(TDial=64977)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(EcuEsp),Set(TDial=64961)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(EcuIng),Set(TDial=64962)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(SalEsp),Set(TDial=64963)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(SalIng),Set(TDial=64964)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(GuaEsp),Set(TDial=64965)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(GuaIng),Set(TDial=64966)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(HonEsp),Set(TDial=64967)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(HonIng),Set(TDial=64968)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(MexEsp),Set(TDial=64969)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(MexIng),Set(TDial=64970)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(NicEsp),Set(TDial=64953)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(NicIng),Set(TDial=64954)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(PanEsp),Set(TDial=64951)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(PanIng),Set(TDial=64952)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(ParEsp),Set(TDial=64949)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(ParIng),Set(TDial=64950)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(PerEsp),Set(TDial=64945)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(PerIng),Set(TDial=64946)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(Per2Esp),Set(TDial=64947)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(Per2Ing),Set(TDial=64948)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(UruEsp),Set(TDial=64941)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(UruIng),Set(TDial=64942)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(VenEsp),Set(TDial=64940)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(VenIng),Set(TDial=64939)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(LAT2Esp),Set(TDial=64973)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(LAT2Ing),Set(TDial=64974)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(LAT3Esp),Set(TDial=64975)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(LAT3Ing),Set(TDial=64976)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(LA1Esp),Set(TDial=31011025)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(LA1Ing),Set(TDial=31011025)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(LA2Esp),Set(TDial=31011027)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(LA2Ing),Set(TDial=31011027)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(LA3Esp),Set(TDial=31011028)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(LA3Ing),Set(TDial=31011028)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(LA4Esp),Set(TDial=31011029)
exten => 75098,n,Goto(CallDial)
exten => 75098,n(LA4Ing),Set(TDial=31011029)
exten => 75098,n,Goto(CallDial)


exten => 75098,n,hangup()

exten => 75098,n(Cuel),StopMixMonitor()
exten => 75098,n,NoOp(Llamada Finalizada o paso a encuesta)
exten => 75098,n,Hangup()

exten => 75098,n(Pross),StopMixMonitor()
exten => 75098,n,NoOp(Llamada en Proceso)
exten => 75098,n,Hangup()

exten => 75098,n(OutCont),StopMixMonitor()
exten => 75098,n,NoOp(Llamada Finalizada o paso a encuesta)
exten => 75098,n,Hangup()

exten => 75098,n(UnPross),StopMixMonitor()
exten => 75098,n,NoOp(Llamada Sin Result)
exten => 75098,n,AGI(voiceIN/Call_Finish.agi,${id})
exten => 75098,n,Hangup()

exten => 75098,n(Doc),NoOp(Voicebot IVR etb Captura de Documento)
exten => 75098,n,Read(VariableToPost,Doc_Ing,18,,3,5)
exten => 75098,n,Set(VariableToPost=${FILTER(0123456789,${VariableToPost})})
exten => 75098,n,NoOp(El id es ${id}, y el documento es ${VariableToPost})
exten => 75098,n,Goto(VarConfirm)
exten => 75098,n,Hangup()

exten => 75098,n(Account),NoOp(Voicebot IVR etb Captura de Numero de Cuenta)
exten => 75098,n,Read(VariableToPost,Acc_Ing,18,,3,5)
exten => 75098,n,Set(VariableToPost=${FILTER(0123456789,${VariableToPost})})
exten => 75098,n,NoOp(El id es ${id}, y el número de cuenta es ${VariableToPost})
exten => 75098,n,Goto(VarConfirm)
exten => 75098,n,Hangup()

exten => 75098,n(SMSCode),NoOp(Voicebot IVR etb Captura de Codigo SMS)
exten => 75098,n,Read(VariableToPost,DocSMS_Ing,18,,3,5)
exten => 75098,n,Set(VariableToPost=${FILTER(0123456789,${VariableToPost})})
exten => 75098,n,NoOp(El id es ${id}, y el codigo SMS es  ${VariableToPost})
exten => 75098,n,Goto(VarConfirm)
exten => 75098,n,Hangup()

exten => 75098,n(DocCategory),NoOp(Voicebot IVR ETB Captura de Tipo de Documento)
exten => 75098,n,Read(VariableToPost,DocCat_Ing,1,,3,5)
exten => 75098,n,NoOp(El id es ${id}, y el # de tipo de documento es ${VariableToPost})
exten => 75098,n,GotoIf($["${VariableToPost}"="1"]?CC:)
exten => 75098,n,GotoIf($["${VariableToPost}"="2"]?CE:)
exten => 75098,n,GotoIf($["${VariableToPost}"="3"]?NIT:Incorr)
exten => 75098,n,Hangup()

exten => 75098,n(CC),NoOp(Tipo Documento: Cédula de ciudadanía)
exten => 75098,n,Set(VariableToPost=cedula de ciudadania)
exten => 75098,n,Playback(DocCat_CC)
exten => 75098,n,Goto(Confirm)
exten => 75098,n,Hangup()

exten => 75098,n(CE),NoOp(Tipo Documento: Cédula de extranjería)
exten => 75098,n,Set(VariableToPost=cedula de extranjeria)
exten => 75098,n,Playback(DocCat_CE)
exten => 75098,n,Goto(Confirm)
exten => 75098,n,Hangup()

exten => 75098,n(NIT),NoOp(Tipo Documento: Número de identificación tributaria)
exten => 75098,n,Set(VariableToPost=numero de identificacion tributaria)
exten => 75098,n,Playback(DocCat_NIT)
exten => 75098,n,Goto(Confirm)
exten => 75098,n,Hangup()

exten => 75098,n(VarConfirm),NoOp(Variable Repetición)
exten => 75098,n,PlayBack(Var_RTA)
exten => 75098,n,SayDigits(${VariableToPost})
exten => 75098,n,Goto(Confirm)
exten => 75098,n,Hangup()

exten => 75098,n(Confirm),NoOp(1 correcto, 2 incorrecto.)
exten => 75098,n,Read(RTA,Var_Confir,1,,3,5)
exten => 75098,n,NoOp(La respuesta de confirmación es ${RTA})
exten => 75098,n,GotoIf($["${RTA}"="1"]?Next:)
exten => 75098,n,GotoIf($["${RTA}"="2"]?AnotherTry:Incorr)
exten => 75098,n,Hangup()

exten => 75098,n(AnotherTry),Noop(Otro intento ${result})
exten => 75098,n,GotoIf($["${result}"="8"]?Doc:)
exten => 75098,n,GotoIf($["${result}"="9"]?DocCategory:)
exten => 75098,n,GotoIf($["${result}"="10"]?Account:)
exten => 75098,n,GotoIf($["${result}"="11"]?OTP:UnPross)
exten => 75098,n,Hangup()

exten => 75098,n(Next),Noop(NextU id ,${id}, Variable es: , ${VariableToPost})
exten => 75098,n,AGI(ETB/Post_Data.agi,${id},${result},${VariableToPost})
exten => 75098,n,Goto(Lookup)
exten => 75098,n,Hangup()

exten => 75098,n(Incorr),Noop(Confirmación respuesta, ${RTA})
exten => 75098,n,PlayBack(Var_Incorrect)
exten => 75098,n,Goto(AnotherTry)
exten => 75098,n,Hangup()

exten => 75098,n(OTP),NoOp(Ruta OTP)
;exten => 75098,n,Set(CountOTP=$[${CountOTP} + 1])
;exten => 75098,n,NoOp(intento ${CountOTP})
;exten => 75098,n,GotoIf($["${CountOTP}"="4"]?Confirm:)
exten => 75098,n,Read(NOTP,aux_ppal_otp,1,,10,10)
exten => 75098,n,GotoIf($["${NOTP}"="1"]?:OTP)
exten => 75098,n,GotoIf($["${NOTP}"=""]?OTP:)
exten => 75098,n,Read(VariableToPost,aux_digita_otp,4,,4,5)
exten => 75098,n,Set(VariableToPost=${FILTER(0123456789,${VariableToPost})})
exten => 75098,n,PlayBack(aux_marcaste_otp)
exten => 75098,n,saydigits(${VariableToPost})
exten => 75098,n,Goto(Confirm)
exten => 75098,n,Hangup()


;exten => 75098,n,Dial(SIP/VC887/25887,60)
;exten => 75098,n(CallDial),Dial(SIP/PXY99/${TDial},60)
exten => 75098,n(CallDial),Dial(SIP/PXY929/${TDial},60)
exten => 75098,n,hangup()

exten => 75098,n(Demo),Noop(Prod)
exten => 75098,n,GotoIf($["${Camp}"="11"]?Claro:)
exten => 75098,n,GotoIf($["${Camp}"="13"]?ETBCOB:)
;exten => 75098,n,Set(CALLERID(name)="Nombre: Jair Celis, Cedula: 65666666")
exten => 75098,n,Dial(SIP/VC887/25887,60)
exten => 75098,n,hangup()
exten => 75098,n(Claro),Dial(SIP/PXY99/752956,60)
exten => 75098,n,hangup()
exten => 75098,n(ETBCOB),NoOp(Tranferencia con UUID)
exten => 75098,n,Set(U2U=${SIP_HEADER(User-to-User)})
exten => 75098,n,Noop(User-to-User: ${U2U})
;exten => 75098,n,Noop(UUID = ${uuid})
exten => 75098,n,Agi(voiceIN/decode.agi,toASCII,${U2U})
exten => 75098,n,Set(CALLERID(name)=${CONVERSION})
;exten => 75098,n,Dial(SIP/PXY99/${Txn},60)
exten => 75098,n,Dial(SIP/PXY180/${Txn},60)
exten => 75098,n,hangup()

exten => 75098,n(Cuelga),StopMixMonitor()
exten => 75098,n,NoOp(Llamada Finalizada o paso a encuesta)
exten => 75098,n,hangup()

exten => 6014864434,1,Noop(Linea Pruebas)
exten => 6014864434,n,goto(VoicebotV2,75098,1)
exten => 6014864434,n,Hangup()

exten => _6014864434,1,Noop(Linea Pruebas)
exten => _6014864434,n,goto(VoicebotV2,75098,1)
exten => _6014864434,n,Hangup()

exten => 17879310203,1,NoOp(Llamada entrante Puerto Rico)
exten => 17879310203,n,set(Pais=1)
;exten => _17879310203,n,goto(VoicebotV2,75098,1)
exten => 17879310203,n,goto(Hivision,55201,1)
exten => 17879310203,n,Hangup()

exten => _17879310203,1,NoOp(Llamada entrante Puerto Rico)
exten => _17879310203,n,set(Pais=1)
;exten => _17879310203,n,goto(VoicebotV2,75098,1)
exten => _17879310203,n,goto(Hivision,55201,1)
exten => _17879310203,n,Hangup()

exten => 18493360013,1,NoOp(Llamada entrante Puerto Rico)
exten => 18493360013,n,set(Pais=1)
;exten => _17879310203,n,goto(VoicebotV2,75098,1)
exten => 18493360013,n,goto(Hivision,55201,1)
exten => 18493360013,n,Hangup()

exten => _18493360013,1,NoOp(Llamada entrante Puerto Rico)
exten => _18493360013,n,set(Pais=1)
;exten => _17879310203,n,goto(VoicebotV2,75098,1)
exten => _18493360013,n,goto(Hivision,55201,1)
exten => _18493360013,n,Hangup()

exten => 551133180083,1,NoOp(Llamada entrante Trinidad y Tobago)
exten => 551133180083,n,set(Pais=2)
;exten => _551133180083,n,goto(VoicebotV2,75098,1)
exten => 551133180083,n,goto(Hivision,55201,1)
exten => 551133180083,n,Hangup()

exten => _551133180083,1,NoOp(Llamada entrante Trinidad y Tobago)
exten => _551133180083,n,set(Pais=2)
;exten => _551133180083,n,goto(VoicebotV2,75098,1)
exten => _551133180083,n,goto(Hivision,55201,1)
exten => _551133180083,n,Hangup()

exten => 551133180082,1,NoOp(Llamada entrante Jamaica)
exten => 551133180082,n,set(Pais=3)
;exten => _551133180082,n,goto(VoicebotV2,75098,1)
exten => 551133180082,n,goto(Hivision,55201,1)
exten => 551133180082,n,Hangup()

exten => _551133180082,1,NoOp(Llamada entrante Jamaica)
exten => _551133180082,n,set(Pais=3)
;exten => _551133180082,n,goto(VoicebotV2,75098,1)
exten => _551133180082,n,goto(Hivision,55201,1)
exten => _551133180082,n,Hangup()

exten => _551146101502,1,NoOp(Llamada entrante LATAM)
exten => _551146101502,n,set(Pais=4)
;exten => _551133180082,n,goto(VoicebotV2,75098,1)
exten => _551146101502,n,goto(Hivision,55201,1)
exten => _551146101502,n,Hangup()

exten => 551146101502,1,NoOp(Llamada entrante LATAM)
exten => 551146101502,n,set(Pais=4)
;exten => _551133180082,n,goto(VoicebotV2,75098,1)
exten => 551146101502,n,goto(Hivision,55201,1)
exten => 551146101502,n,Hangup()

exten => 541151685739,1,NoOp(Llamada entrante Argentina)
exten => 541151685739,n,set(Pais=5)
exten => 541151685739,n,goto(Hivision,55201,1)
exten => 541151685739,n,Hangup()

exten => _541151685739,1,NoOp(Llamada entrante Argentina)
exten => _541151685739,n,set(Pais=5)
exten => _541151685739,n,goto(Hivision,55201,1)
exten => _541151685739,n,Hangup()

exten => 551146101501,1,NoOp(Llamada entrante Bolivia)
exten => 551146101501,n,set(Pais=6)
exten => 551146101501,n,goto(Hivision,55201,1)
exten => 551146101501,n,Hangup()

exten => _551146101501,1,NoOp(Llamada entrante Bolivia)
exten => _551146101501,n,set(Pais=6)
exten => _551146101501,n,goto(Hivision,55201,1)
exten => _551146101501,n,Hangup()

exten => 56229381016,1,NoOp(Llamada entrante Chile)
exten => 56229381016,n,set(Pais=7)
exten => 56229381016,n,goto(Hivision,55201,1)
exten => 56229381016,n,Hangup()

exten => _56229381016,1,NoOp(Llamada entrante Chile)
exten => _56229381016,n,set(Pais=7)
exten => _56229381016,n,goto(Hivision,55201,1)
exten => _56229381016,n,Hangup()

exten => 551146101503,1,NoOp(Llamada entrante Costa rica)
exten => 551146101503,n,set(Pais=8)
exten => 551146101503,n,goto(Hivision,55201,1)
exten => 551146101503,n,Hangup()

exten => _551146101503,1,NoOp(Llamada entrante Costa rica)
exten => _551146101503,n,set(Pais=8)
exten => _551146101503,n,goto(Hivision,55201,1)
exten => _551146101503,n,Hangup()

exten => 50640001989,1,NoOp(Llamada entrante Costa Rica 2)
exten => 50640001989,n,set(Pais=9)
exten => 50640001989,n,goto(Hivision,55201,1)
exten => 50640001989,n,Hangup()

exten => _50640001989,1,NoOp(Llamada entrante Costa Rica 2)
exten => _50640001989,n,set(Pais=9)
exten => _50640001989,n,goto(Hivision,55201,1)
exten => _50640001989,n,Hangup()

exten => 551146101504,1,NoOp(Llamada entrante Ecuador)
exten => 551146101504,n,set(Pais=10)
exten => 551146101504,n,goto(Hivision,55201,1)
exten => 551146101504,n,Hangup()

exten => _551146101504,1,NoOp(Llamada entrante Ecuador)
exten => _551146101504,n,set(Pais=10)
exten => _551146101504,n,goto(Hivision,55201,1)
exten => _551146101504,n,Hangup()

exten => 551146101505,1,NoOp(Llamada entrante Salvador)
exten => 551146101505,n,set(Pais=11)
exten => 551146101505,n,goto(Hivision,55201,1)
exten => 551146101505,n,Hangup()

exten => _551146101505,1,NoOp(Llamada entrante Salvador)
exten => _551146101505,n,set(Pais=11)
exten => _551146101505,n,goto(Hivision,55201,1)
exten => _551146101505,n,Hangup()

exten => 551146101506,1,NoOp(Llamada entrante Guatemala)
exten => 551146101506,n,set(Pais=12)
exten => 551146101506,n,goto(Hivision,55201,1)
exten => 551146101506,n,Hangup()

exten => _551146101506,1,NoOp(Llamada entrante Guatemala)
exten => _551146101506,n,set(Pais=12)
exten => _551146101506,n,goto(Hivision,55201,1)
exten => _551146101506,n,Hangup()

exten => 551146101507,1,NoOp(Llamada entrante Honduras)
exten => 551146101507,n,set(Pais=13)
exten => 551146101507,n,goto(Hivision,55201,1)
exten => 551146101507,n,Hangup()

exten => _551146101507,1,NoOp(Llamada entrante Honduras)
exten => _551146101507,n,set(Pais=13)
exten => _551146101507,n,goto(Hivision,55201,1)
exten => _551146101507,n,Hangup()

exten => 525541696397,1,NoOp(Llamada entrante Mexico)
exten => 525541696397,n,set(Pais=14)
exten => 525541696397,n,goto(Hivision,55201,1)
exten => 525541696397,n,Hangup()

exten => _525541696397,1,NoOp(Llamada entrante Mexico)
exten => _525541696397,n,set(Pais=14)
exten => _525541696397,n,goto(Hivision,55201,1)
exten => _525541696397,n,Hangup()

exten => 551146101508,1,NoOp(Llamada entrante Nicaragua)
exten => 551146101508,n,set(Pais=15)
exten => 551146101508,n,goto(Hivision,55201,1)
exten => 551146101508,n,Hangup()

exten => _551146101508,1,NoOp(Llamada entrante Nicaragua)
exten => _551146101508,n,set(Pais=15)
exten => _551146101508,n,goto(Hivision,55201,1)
exten => _551146101508,n,Hangup()

exten => 5078366276,1,NoOp(Llamada entrante Panama)
exten => 5078366276,n,set(Pais=16)
exten => 5078366276,n,goto(Hivision,55201,1)
exten => 5078366276,n,Hangup()

exten => _5078366276,1,NoOp(Llamada entrante Panama)
exten => _5078366276,n,set(Pais=16)
exten => _5078366276,n,goto(Hivision,55201,1)
exten => _5078366276,n,Hangup()

exten => 551146101509,1,NoOp(Llamada entrante Paraguay)
exten => 551146101509,n,set(Pais=16)
exten => 551146101509,n,goto(Hivision,55201,1)
exten => 551146101509,n,Hangup()

exten => _551146101509,1,NoOp(Llamada entrante Paraguay)
exten => _551146101509,n,set(Pais=16)
exten => _551146101509,n,goto(Hivision,55201,1)
exten => _551146101509,n,Hangup()

exten => 5116419269,1,NoOp(Llamada entrante Peru)
exten => 5116419269,n,set(Pais=17)
exten => 5116419269,n,goto(Hivision,55201,1)
exten => 5116419269,n,Hangup()

exten => _5116419269,1,NoOp(Llamada entrante Peru)
exten => _5116419269,n,set(Pais=17)
exten => _5116419269,n,goto(Hivision,55201,1)
exten => _5116419269,n,Hangup()

exten => 551146101514,1,NoOp(Llamada entrante Peru2)
exten => 551146101514,n,set(Pais=18)
exten => 551146101514,n,goto(Hivision,55201,1)
exten => 551146101514,n,Hangup()

exten => _551146101514,1,NoOp(Llamada entrante Peru2)
exten => _551146101514,n,set(Pais=18)
exten => _551146101514,n,goto(Hivision,55201,1)
exten => _551146101514,n,Hangup()


exten => 551146101511,1,NoOp(Llamada entrante Uruguay)
exten => 551146101511,n,set(Pais=19)
exten => 551146101511,n,goto(Hivision,55201,1)
exten => 551146101511,n,Hangup()

exten => _551146101511,1,NoOp(Llamada entrante Uruguay)
exten => _551146101511,n,set(Pais=19)
exten => _551146101511,n,goto(Hivision,55201,1)
exten => _551146101511,n,Hangup()

exten => 551146101513,1,NoOp(Llamada entrante Venezuela)
exten => 551146101513,n,set(Pais=20)
exten => 551146101513,n,goto(Hivision,55201,1)
exten => 551146101513,n,Hangup()

exten => _551146101513,1,NoOp(Llamada entrante Venezuela)
exten => _551146101513,n,set(Pais=20)
exten => _551146101513,n,goto(Hivision,55201,1)
exten => _551146101513,n,Hangup()

exten => 576015085312,1,NoOp(Llamada entrante Latam 2)
exten => 576015085312,n,set(Pais=21)
exten => 576015085312,n,goto(Hivision,55201,1)
exten => 576015085312,n,Hangup()

exten => _576015085312,1,NoOp(Llamada entrante Latam 2)
exten => _576015085312,n,set(Pais=21)
exten => _576015085312,n,goto(Hivision,55201,1)
exten => _576015085312,n,Hangup()

exten => 576013557174,1,NoOp(Llamada entrante Latam 3)
exten => 576013557174,n,set(Pais=22)
exten => 576013557174,n,goto(Hivision,55201,1)
exten => 576013557174,n,Hangup()

exten => _576013557174,1,NoOp(Llamada entrante Latam 3)
exten => _576013557174,n,set(Pais=22)
exten => _576013557174,n,goto(Hivision,55201,1)
exten => _576013557174,n,Hangup()

;Cambios LA1
exten => 21011025,1,NoOp(Llamada entrante LA1 DDO ${CALLERID(num)})
exten => 21011025,n,answer()
exten => 21011025,n,set(Pais=23)
exten => 21011025,n,set(Lang=1)
exten => 21011025,n,set(Camp=7)
exten => 21011025,n,goto(VoicebotV2,75098,1)
exten => 21011025,n,Hangup()

exten => _21011025,1,NoOp(Llamada entrante LA1 _ DDO ${CALLERID(num)})
exten => _21011025,n,answer()
exten => _21011025,n,set(Pais=23)
exten => _21011025,n,set(Lang=1)
exten => _21011025,n,set(Camp=7)
exten => _21011025,n,goto(VoicebotV2,75098,1)
exten => _21011025,n,Hangup()

exten => 21011026,1,NoOp(Llamada entrante LA1 FDO ${CALLERID(num)})
exten => 21011026,n,answer()
exten => 21011026,n,set(Pais=23)
exten => 21011026,n,set(Lang=1)
exten => 21011026,n,set(Camp=7)
exten => 21011026,n,goto(VoicebotV2,75098,1)
exten => 21011026,n,Hangup()

exten => _21011026,1,NoOp(Llamada entrante LA1 _ FDO ${CALLERID(num)})
exten => _21011026,n,answer()
exten => _21011026,n,set(Pais=23)
exten => _21011026,n,set(Lang=1)
exten => _21011026,n,set(Camp=7)
exten => _21011026,n,goto(VoicebotV2,75098,1)
exten => _21011026,n,Hangup()



;cambios LA2
exten => 21011027,1,NoOp(Llamada entrante LA2)
exten => 21011027,n,answer()
exten => 21011027,n,set(Pais=24)
exten => 21011027,n,set(Lang=1)
exten => 21011027,n,set(Camp=7)
exten => 21011027,n,goto(VoicebotV2,75098,1)
exten => 21011027,n,Hangup()

exten => _21011027,1,NoOp(Llamada entrante LA2 _ )
exten => _21011027,n,answer()
exten => _21011027,n,set(Pais=24)
exten => _21011027,n,set(Lang=1)
exten => _21011027,n,set(Camp=7)
exten => _21011027,n,goto(VoicebotV2,75098,1)
exten => _21011027,n,Hangup()

;cambios LA3
exten => 21011028,1,NoOp(Llamada entrante LA3)
exten => 21011028,n,answer()
exten => 21011028,n,set(Pais=25)
exten => 21011028,n,goto(Hivision,55201,1)
exten => 21011028,n,Hangup()

exten => _21011028,1,NoOp(Llamada entrante LA3 _ )
exten => _21011028,n,answer()
exten => _21011028,n,set(Pais=25)
exten => _21011028,n,goto(Hivision,55201,1)
exten => _21011028,n,Hangup()

;cambios LA4
exten => 21011029,1,NoOp(Llamada entrante LA4)
exten => 21011029,n,answer()
exten => 21011029,n,set(Pais=26)
exten => 21011029,n,goto(Hivision,55201,1)
exten => 21011029,n,Hangup()

exten => _21011029,1,NoOp(Llamada entrante LA4 _ )
exten => _21011029,n,answer()
exten => _21011029,n,set(Pais=26)
exten => _21011029,n,goto(Hivision,55201,1)
exten => _21011029,n,Hangup()



exten => 6014864357,1,Noop(Campaña Pruebas)
;exten => _6014864357,n,set(Camp=7)
;exten => 6014864357,n,goto(VoicebotV2,75098,OTP)
exten => 6014864357,n,wait(0.15)
exten => 6014864357,n,Read(Camp,ivr_dummi,2,,2,5)
exten => 6014864357,n,Set(Txn=2011001)
;exten => 6014864357,n,Dial(SIP/PXY99/2011001,60)
;exten => 6014864357,n,set(Pais=1)
exten => 6014864357,n,goto(VoicebotV2,75098,1)
;exten => 6014864357,n,goto(Hivision,55201,1)
exten => 6014864357,n,Hangup()

exten => 6017441427,1,Noop(Campaña Pruebas)
exten => 6017441427,n,wait(0.15)
exten => 6017441427,n,Read(Camp,ivr_dummi,2,,2,5)
exten => 6017441427,n,Set(Txn=2011001)
exten => 6017441427,n,GotoIf($["${Camp}"="77"]?SoulPhone:)
exten => 6017441427,n,GotoIf($["${Camp}"="87"]?PruebasSP:)
exten => 6017441427,n,GotoIf($["${Camp}"="97"]?PruebasSP2:)
exten => 6017441427,n,GotoIf($["${Camp}"="69"]?GersonIA:)
exten => 6017441427,n,goto(VoicebotV2,75098,1)
exten => 6017441427,n,Hangup()
exten => 6017441427,n(SoulPhone),Dial(SIP/VC887/960209014357,60)
exten => 6017441427,n,Hangup()
exten => 6017441427,n(PruebasSP),Set(SIP_HEADER(User-to-User)=e29692437c31313131313131313131317c363031323938353336357c2b31333139323035313030337c44317c4a4f524745464f4e4341)
exten => 6017441427,n,Set(U2U=e29692437c31313131313131313131317c363031323938353336357c2b31333139323035313030337c44317c4a4f524745464f4e4341)
exten => 6017441427,n,Dial(SIP/VC887/88690009010114,,b(setu2u^${U2U}^1))
exten => 6017441427,n,Noop(U2U: ${SIP_HEADER(User-to-User)})
exten => 6017441427,n,Hangup()
exten => 6017441427,n(PruebasSP2),Dial(SIP/VC887/664243,60)
exten => 6017441427,n,Hangup()

exten => 6017441427,n(GersonIA),Noop(Pruebas Gerson 172.70.7.91:12700)
exten => 6017441427,n,AudioSocket(c9b3d22c-9f63-41db-bc5b-76eedca9507c,172.70.7.91:12705)
;exten => 6017441427,n,
;exten => 6017441427,n,
exten => 6017441427,n,Hangup()

;exten => 69690009010100,n,Dial(SIP/${DESTINO},,b(setu2u^${U2U}^1))

[setu2u]
exten => _X.,1,Set(SIP_HEADER(User-to-User)=${ARG1})
exten => _X.,n,Return()


exten => _6014864357,1,Noop(Campaña Hikvision)
exten => _6014864357,n,wait(0.15)
exten => _6014864357,n,set(Camp=13)
;exten => _6014864357,n,Dial(SIP/PXY99/2011001,60)
exten => _6014864357,n,set(Pais=1)
exten => _6014864357,n,goto(VoicebotV2,75098,1)
;exten => _6014864357,n,goto(Hivision,55201,1)
exten => _6014864357,n,Hangup()

exten => 6014863150,1,NoOp(Campaña Pruebas Gerson)
;exten => 6014863150,n,wait(1)
exten => 6014863150,n,wait(0.15)
exten => 6014863150,n,playback(silence)
;exten => 6014863150,n,Read(Camp,ivr_dummi,2,,2,5)
;exten => 6014863150,n,Set(Txn=2011001)
;exten => 6014863150,n,GotoIf($["${Camp}"="77"]?SoulPhone:)
;exten => 6014863150,n,GotoIf($["${Camp}"="87"]?PruebasSP:)
;exten => 6014863150,n,GotoIf($["${Camp}"="97"]?PruebasSP2:)
;exten => 6014863150,n,GotoIf($["${Camp}"="69"]?GersonIA:)
;exten => 6014863150,n,goto(VoicebotV2,75098,1)
;exten => 6014863150,n,Hangup()
;exten => 6014863150,n(SoulPhone),Dial(SIP/VC887/960209014357,60)
;exten => 6014863150,n,Hangup()
;exten => 6014863150,n(PruebasSP),Set(SIP_HEADER(User-to-User)=e29692437c31313131313131313131317c363031323938353336357c2b31333139323035313030337c44317c4a4f524745464f4e4341)
;exten => 6014863150,n,Set(U2U=e29692437c31313131313131313131317c363031323938353336357c2b31333139323035313030337c44317c4a4f524745464f4e4341)
;exten => 6014863150,n,Dial(SIP/VC887/88690009010114,,b(setu2u^${U2U}^1))
;exten => 6014863150,n,Noop(U2U: ${SIP_HEADER(User-to-User)})
;exten => 6014863150,n,Hangup()
;exten => 6014863150,n(PruebasSP2),Dial(SIP/VC887/664243,60)
;exten => 6014863150,n,Hangup()
;exten => 6014863150,n(GersonIA),Noop(Pruebas Gerson 172.70.7.91:12700)
exten => 6014863150,n,Noop(Pruebas Gerson 172.70.7.91:12700)
exten => 6014863150,n,AudioSocket(c9b3d22c-9f63-41db-bc5b-76eedca9507c,172.70.7.91:12705)
exten => 6014863150,n,Hangup()

;exten => 6014863150,n,Dial(AudioSocket/172.70.7.91:12705/c9b3d22c-9f63-41db-bc5b-76eedca9507c);antigua
;exten => 6014863150,n,Dial(AudioSocket/172.70.7.91:12705/c9b3d22c-9f63-41db-bc5b-76eedca8577c)
;exten => 6014863150,n,Hangup()

exten => 6014864356,1,NoOp(Campaña Laika)
;exten => 6014864356,n,Dial(SIP/VC887/25887,60)
;exten => 6014864356,n,set(Camp=9)
exten => 6014864356,n,set(Camp=12)
exten => 6014864356,n,goto(VoicebotV2,75098,1)
exten => 6014864356,n,Hangup()

exten => _6014864356,1,NoOp(Campaña Laika)
;exten => _6014864356,n,Dial(SIP/VC887/25887,60)
;exten => _6014864356,n,set(Camp=9)
exten => _6014864356,n,set(Camp=12)
exten => _6014864356,n,goto(VoicebotV2,75098,1)
exten => _6014864356,n,Hangup()


exten => 6044758337,1,NoOp(Campaña Claro Hogar)
;exten => 6014864356,n,Dial(SIP/VC887/25887,60)
;exten => 6014864356,n,set(Camp=9)
exten => 6044758337,n,set(Camp=11)
exten => 6044758337,n,goto(VoicebotV2,75098,1)
exten => 6044758337,n,Hangup()

exten => _6044758337,1,NoOp(Claro Hogar)
;exten => _6014864356,n,Dial(SIP/VC887/25887,60)
;exten => _6014864356,n,set(Camp=9)
exten => _6044758337,n,set(Camp=11)
exten => _6044758337,n,goto(VoicebotV2,75098,1)
exten => _6044758337,n,Hangup()

exten => 1011001,1,Noop(Campaña ETB Cobre ${CALLERID(num)})
exten => 1011001,n,wait(0.15)
exten => 1011001,n,Set(Camp=13)
exten => 1011001,n,set(Txn=2011001)
exten => 1011001,n,goto(VoicebotV2,75098,1)
exten => 1011001,n,Hangup()

exten => 1011003,1,Noop(Campaña ETB Fibra ${CALLERID(num)})
exten => 1011003,n,wait(0.15)
exten => 1011003,n,Set(Camp=13)
exten => 1011003,n,set(Txn=2011003)
exten => 1011003,n,goto(VoicebotV2,75098,1)
exten => 1011003,n,Hangup()

exten => 6014863004,1,Noop(Campaña ETB FTTH Platino ${CALLERID(num)})
exten => 6014863004,n,wait(0.15)
exten => 6014863004,n,Set(U2U=${SIP_HEADER(User-to-User)}
exten => 6014863004,n,SIPAddHeader(User-to-User: ${U2U})
exten => 6014863004,n,Dial(SIP/VC887/6014863004,60)
;exten => 1011007,n,Set(Camp=13)
;exten => 1011007,n,set(Txn=2011007)
;exten => 1011007,n,goto(VoicebotV2,75098,1)
exten => 6014863004,n,Hangup()


exten => 1011008,1,Noop(Campaña ETB FTTH ${CALLERID(num)})
exten => 1011008,n,wait(0.15)
exten => 1011008,n,Set(U2U=${SIP_HEADER(User-to-User)})
exten => 1011008,n,SIPAddHeader(User-to-User: ${U2U})
exten => 1011008,n,Set(Camp=13)
exten => 1011008,n,set(Txn=2011008)
exten => 1011008,n,goto(VoicebotV2,75098,1)
exten => 1011008,n,Hangup()

exten => 1011009,1,Noop(Campaña ETB Cobre 2 ${CALLERID(num)})
exten => 1011009,n,wait(0.15)
exten => 1011009,n,Set(Camp=13)
exten => 1011009,n,set(Txn=2011009)
exten => 1011009,n,goto(VoicebotV2,75098,1)
exten => 1011009,n,Hangup()

exten => 1011010,1,Noop(Campaña ETB Migracion ${CALLERID(num)})
exten => 1011010,n,wait(0.15)
exten => 1011010,n,Set(Camp=13)
exten => 1011010,n,set(Txn=2011010)
exten => 1011010,n,goto(VoicebotV2,75098,1)
exten => 1011010,n,Hangup()

exten => 7705610,1,Noop(Campaña ETB New ${CALLERID(num)})
exten => 7705610,n,wait(0.15)
exten => 7705610,n,Set(Camp=13)
exten => 7705610,n,set(Txn=2011001)
exten => 7705610,n,goto(VoicebotV2,75098,1)
exten => 7705610,n,Hangup()

exten => 570209010124,1,Noop(Campaña ETB PRUEBAS ${CALLERID(num)})
exten => 570209010124,n,wait(0.15)
exten => 570209010124,n,Set(Camp=13)
exten => 570209010124,n,set(Txn=2705610)
exten => 570209010124,n,goto(VoicebotV2,75098,1)
exten => 570209010124,n,Hangup()

exten => 9010124,1,Noop(Campaña ETB PRUEBAS ${CALLERID(num)})
exten => 9010124,n,wait(0.15)
exten => 9010124,n,Set(Camp=13)
exten => 9010124,n,set(Txn=2705610)
exten => 9010124,n,goto(VoicebotV2,75098,1)
exten => 9010124,n,Hangup()

exten => 91011010,1,Noop(Campaña ETB PRUEBAS ${CALLERID(num)})
exten => 91011010,n,wait(0.15)
;exten => 91011010,n,Dial(SIP/VC887/6014863004,60)
exten => 91011010,n,Set(U2U=${SIP_HEADER(User-to-User)}
exten => 91011010,n,Set(SIP_HEADER(User-to-User=${U2U})
exten => 91011010,n,Dial(SIP/VC887/6014863004,60)
;exten => 9010124,n,set(Txn=2705610)
;exten => 9010124,n,goto(VoicebotV2,75098,1)
exten => 91011010,n,Hangup()

exten => 91011007,1,Noop(Campaña ETB PRUEBAS ${CALLERID(num)})
exten => 91011007,n,wait(0.15)
;exten => 91011010,n,Dial(SIP/VC887/6014863004,60)
exten => 91011007,n,Set(U2U=${SIP_HEADER(User-to-User)}
exten => 91011007,n,Set(SIP_HEADER(User-to-User=${U2U})
exten => 91011007,n,Dial(SIP/VC887/6014863004,60)
;exten => 9010124,n,set(Txn=2705610)
;exten => 9010124,n,goto(VoicebotV2,75098,1)
exten => 91011007,n,Hangup()

[Hivision]

exten => 55201,1,Noop(IVR Hikvision IDIOMA)
exten => 55201,n,Wait(0.15)
exten => 55201,n,PlayBack(HIKE_Welcome)
exten => 55201,n,PlayBack(HIKE_IVR)
exten => 55201,n(Retry),Read(Lang,opt_port,1,,3,5)
exten => 55201,n,GotoIf($["${Lang}"="1"]?Espanol:)
exten => 55201,n,GotoIf($["${Lang}"="2"]?Ingles:)
exten => 55201,n,GotoIf($["${Lang}"="3"]?Port:NA)

exten => 55201,n(Espanol),Noop(Español)
exten => 55201,n,set(Camp=7)
exten => 55201,n,goto(VoicebotV2,75098,1)
exten => 55201,n,Hangup()

exten => 55201,n(Ingles),Noop(Ingles)
exten => 55201,n,set(Camp=8)
exten => 55201,n,goto(VoicebotV2,75098,1)
exten => 55201,n,Hangup()

exten => 55201,n(Port),Noop(Portugues)
exten => 55201,n,set(Camp=10)
exten => 55201,n,goto(VoicebotV2,75098,1)
exten => 55201,n,Hangup()

exten => 55201,n(NA),Noop(NA)
exten => 55201,n,PlayBack(Incorrecto)
exten => 55201,n,goto(Retry)
exten => 55201,n,Hangup()

[Proxy]

;69690009010119

;69690009010105
;Llamadas trasnferidas desde 87
exten => 70690009010XXX,1,Noop(Llamada transferencia 87 ${CALLERID(num)})
exten => 70690009010XXX,n,Set(U2U=${SIP_HEADER(User-to-User)})
exten => 70690009010XXX,n,Set(SIP_HEADER(User-to-User)=${U2U})
exten => 70690009010XXX,n,Noop(User to User: ${U2U})
exten => 70690009010XXX,n,Dial(SIP/VC887/${EXTEN:2},30)
exten => 70690009010XXX,n,Hangup()

exten => _70690009010XXX,1,Noop(Llamada transferencia _87 ${CALLERID(num)})
exten => _70690009010XXX,n,Set(U2U=${SIP_HEADER(User-to-User)})
exten => _70690009010XXX,n,Set(SIP_HEADER(User-to-User)=${U2U})
exten => _70690009010XXX,n,Noop(User to User: ${U2U})
exten => _70690009010XXX,n,Dial(SIP/VC887/${EXTEN:2},30)
exten => _70690009010XXX,n,Hangup()



;Registro de tiempos (hace falta crear los agis)
[call-end]
exten => 66661,1,Noop(Registro de tiempos IVR END)
;exten => 66661,n,AGI(TIME/ivr_end.agi,${pm_id},${id})
;exten => 66661,n,NoOp(El dato enviado es:${pm_ivr_end})
;exten => 66661,n,AGI(TIME/call_end.agi,${pm_id})
;exten => 66661,n,NoOp(El dato enviado es:${pm_call_end})
exten => 66661,n,Hangup()

exten => 66662,1,Noop(Registro de tiempos Ia End)
;exten => 66662,n,AGI(TIME/voice_end.agi,${pm_id})
;exten => 66662,n,NoOp(El dato enviado es:${pm_voice_end})
;exten => 66662,n,AGI(TIME/call_end.agi,${pm_id})
;exten => 66662,n,NoOp(El dato enviado es:${pm_call_end})
exten => 66662,n,Hangup()

exten => 66663,1,Noop(Registro de tiempos TransfEnd)
;exten => 66663,n,AGI(TIME/transfer_end.agi,${pm_id})
;exten => 66663,n,NoOp(El dato enviado es:${pm_transfer_end})
;exten => 66663,n,AGI(TIME/call_end.agi,${pm_id})
;exten => 66663,n,NoOp(El dato enviado es:${pm_call_end})
exten => 66663,n,Hangup()
;fin del nuevo contexto
